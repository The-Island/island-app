Util=function(){},Util.makeId=function(a){a||(a=5);var b="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var d=0;d<a;d++)b+=c.charAt(Math.floor(Math.random()*c.length));return b},Util.newFilledArray=function(a,b){var c=new Array(a);while(--a>=0)c[a]=b;return c},Util.addCommas=function(a){a+="",x=a.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";var b=/(\d+)(\d{3})/;while(b.test(x1))x1=x1.replace(b,"$1,$2");return x1+x2},Util.getRelativeTime=function(a){"number"==typeof a&&(a=Math.round(a));var b=new Date(a),c=arguments.length>1?arguments[1]:new Date,d=(c.getTime()-b.getTime())/1e3;if(d<5)return"just now";if(d<15)return"just a moment ago";if(d<30)return"just a few moments ago";if(d<60)return"less than a minute ago";if(d<120)return"about a minute ago";if(d<2700)return parseInt(d/60).toString()+" minutes ago";if(d<5400)return"about an hour ago";if(d<86400){var e=parseInt(d/3600).toString();return e!="1"?"about "+e+" hours ago":"about an hour ago"}return d<172800?"about a day ago":d<864e3?parseInt(d/86400).toString()+" days ago":this.toLocaleString(new Date(a),"m/d/yy h:MM TT Z")},Util.getDuration=function(a){return a=parseFloat(a)/1e6,a===0?"n / a":a<1?(a*1e3).toFixed(1)+" milliseconds":a<60?a.toFixed(1)+" seconds":a<2700?(a/60).toFixed(1)+" minutes":a<86400?(a/3600).toFixed(1)+" hours":(a/86400).toFixed(1)+" days"},Util.toLocaleString=function(a,b){var c=a.getTime(),d=this.getTimeZone(),e=new Date(c);return e.format(b)},Util.getTimeZone=function(){var a=new Date,b=new Date(a.getFullYear(),0,1,0,0,0,0),c=new Date(a.getFullYear(),6,1,0,0,0,0),d=b.toGMTString(),e=new Date(d.substring(0,d.lastIndexOf(" ")-1));d=c.toGMTString();var f=new Date(d.substring(0,d.lastIndexOf(" ")-1)),g=(b-e)/36e5,h=(c-f)/36e5,i;if(g==h)i=!1;else{var j=g-h;j>=0&&(g=h),i=!0}return i?g+1:g},Util.getAge=function(a){var b=Number(a.substr(3,2)),c=Number(a.substr(0,2))-1,d=Number(a.substr(6,4)),e=new Date,f=e.getFullYear()-d;return(e.getMonth()<c||e.getMonth()==c&&e.getDate()<b)&&f--,f},Util.getBlurb=function(a,b){if(a.length<b)return a;var c="",d=a.split(" "),e=" ...",f=0;b-=e.length;do c=c.concat(d[f]," "),++f;while(c.concat(d[f]).length-1<b);return c.substr(0,c.length-1)+e},Util.find=function(a,b,c){return _.find(c,function(c){return c[b]===a})},Util.HashSearch=new function(){var a;this.set=function(b,c){a[b]=c,this.push()},this.remove=function(b,c){delete a[b],this.push()},this.get=function(b,c){return a[b]},this.keyExists=function(b){return a.hasOwnProperty(b)},this.push=function(){var b=[],c,d;for(c in a)a.hasOwnProperty(c)&&(c=escape(c),d=escape(a[c]),b.push(c+(d!=="undefined"?"="+d:"")));window.location.hash=b.join("&")},(this.load=function(){a={};var b=window.location.hash,c,d;b=b.substring(1,b.length),c=b.split("&");for(var e=0;e<c.length;e++)d=c[e].split("="),a[unescape(d[0])]=typeof d[1]!="undefined"?unescape(d[1]):d[1]})()},Util.getQueryVariable=function(a){var b=window.location.search.substring(1),c=b.split("&");for(var d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]===a)return unescape(e[1])}return!1},Util.formatCommentText=function(a){var b=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;return a=a.replace(/\n/g,"<br/>"),a=a.replace(/\s/g,"&nbsp;"),a=a.replace(b,"<a href='$1' target='_blank'>$1</a>"),a};