doctype 5
html(lang="en")
  head
    meta(property="og:site_name", content="Island")
    meta(property="fb:app_id", content="203397619757208")
    - if (typeof key !== 'undefined')
      meta(property="og:url", content="http://www.island.io/#{key}")
    - else
      meta(property="og:url", content="http://www.island.io")
    - if (typeof title !== 'undefined')
      meta(property="og:title", content="Island | #{title}")
    - else
      meta(property="og:title", content="Island | Climb")
    - if (typeof body !== 'undefined')
      meta(property="og:description", content="#{body}")
    - else
      meta(property="og:description", content="We are Island.")
    - if (typeof posts !== 'undefined')
      each p in posts
        each m in p.medias
          - if (m.type === 'image')
            meta(property="og:image", content="#{m.image.cf_url || m.image.url}")
            meta(property="og:image:secure_url", content="#{m.image.cf_url || m.image.url}")
            meta(property="og:image:width", content="#{m.image.meta.width}")
            meta(property="og:image:height", content="#{m.image.meta.height}")
            meta(property="og:image:type", content="#{m.image.mime || 'image/jpeg'}")
          - else if (m.type === 'video')
            meta(property="og:image", content="#{m.poster.cf_url}")
            meta(property="og:image:secure_url", content="#{m.poster.cf_url}")
            meta(property="og:image:width", content="#{m.poster.meta.width}")
            meta(property="og:image:height", content="#{m.poster.meta.height}")
            meta(property="og:image:type", content="#{m.poster.mime || 'image/jpeg'}")
          - else if (m.type === 'audio')
            meta(property="og:audio", content="#{m.audio.cf_url}")
            meta(property="og:audio:secure_url", content="#{m.audio.cf_url}")
            meta(property="og:audio:type", content="application/mp3")
    - else if (typeof image !== 'undefined')
      meta(property="og:image", content="#{image.cf_url || image.url}")
      meta(property="og:image:secure_url", content="#{image.cf_url || image.url}")
      meta(property="og:image:width", content="#{image.meta.width}")
      meta(property="og:image:height", content="#{image.meta.height}")
      meta(property="og:image:type", content="#{image.mime || 'image/jpeg'}")
    meta(property="og:image", 
      content="https://d1da6a4is4i5z6.cloudfront.net/0a/a6aef906ed73d28ba07ac3388c6348.jpg")
    meta(property="og:image:secure_url", 
      content="https://d1da6a4is4i5z6.cloudfront.net/0a/a6aef906ed73d28ba07ac3388c6348.jpg")
    meta(property="og:image:width", content="640")
    meta(property="og:image:height", content="924")
    meta(property="og:image:type", content="image/jpeg")
    - if (typeof title !== 'undefined')
      title= title
    - else
      title Island
    meta(name="description", content="We are Island.")
    meta(name="keywords", content="Climb, Climbing, Rock Climbing")
    meta(name="author", content="Island LLC")
    meta(charset="UTF-8")
    link(rel="shortcut icon", href="#{root}/img/favicon.ico", type="image/x-icon")
  body
